{%- if video_src != blank -%}
  {%- capture video_data_src -%}
    data-src="{{- video_src -}}"
  {%- endcapture -%}
{%- endif -%}

<video
  class="bm-video__video position-absolute top-0 start-0{%- if d_none %} d-none{%- endif -%}"
  width="1080"
  height="720"

  {%- if video_data_src != blank -%}

    {%- if thumbnail_url != blank %}
      poster="{{- thumbnail_url -}}"
    {%- endif -%}

    {%- if autoplay %} autoplay muted{%- endif -%}
    {%- unless autoplay %} preload="none"{%- endunless -%}
    {%- unless controls == false %} controls{%- endunless -%}
    {%- if loop %} loop{%- endif -%}

    {%- if interaction == false %}
      style="pointer-events: none;"
    {%- endif %}

    data-settings='{%- render "bm-video-settings",
      autoplay: autoplay,
      controls: controls,
      interaction: interaction,
      loop: loop,
      video_visibility: video_visibility -%}'

  {%- endif -%}

>
  <source
    type="video/mp4"

    {%- if video_data_src != blank %} {{ video_data_src -}}{%- endif -%}
  >
  Your browser does not support the video tag.
</video>
