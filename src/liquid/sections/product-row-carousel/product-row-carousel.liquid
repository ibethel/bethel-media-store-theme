{%- assign is_a_carousel = true -%}
{%- assign section_blocks = section.blocks -%}
{%- assign section_collection = section.settings.section_collection -%}

{%- if section_blocks != blank or section_collection != blank -%}

  {%- render "product-rows",
    background_color: section.settings.background_color,
    compare_price_color: section.settings.compare_price_color,
    enable_background: section.settings.enable_background,
    enable_contain: section.settings.enable_contain,
    enable_hide_scroll: section.settings.enable_hide_scroll,
    enable_item_limit: section.settings.enable_item_limit,
    enable_styles: section.settings.enable_styles,
    font_italic: section.settings.font_italic,
    font_size: section.settings.font_size,
    font_weight: section.settings.font_weight,
    is_a_carousel: is_a_carousel,
    is_a_section: section.settings.is_a_section,
    item_limit: section.settings.item_limit,
    item_widths_desk: section.settings.item_widths_desk,
    item_widths_max: section.settings.item_widths_max,
    item_widths_phone: section.settings.item_widths_phone,
    item_widths_tablet: section.settings.item_widths_tablet,
    price_color: section.settings.price_color,
    price_color_sale: section.settings.price_color_sale,
    section_collection: section_collection,
    section_blocks: section_blocks,
    section_margin: section.settings.section_margin,
    text_color: section.settings.text_color -%}

{%- endif -%}

{% schema %}
  {
    "name": "t:sections.product-rows-carousel.name",
    "settings": [
      {
        "type": "header",
        "content": "t:settings_schema.general_settings.name"
      },
      {
        "type": "checkbox",
        "id": "enable_hide_scroll",
        "label": "t:settings_schema.global.settings.enable_hide_scroll.label",
        "default": false
      },
      {
        "type": "checkbox",
        "id": "enable_contain",
        "label": "t:sections.all.contain.label",
        "default": false,
        "info": "t:sections.all.contain.info"
      },
      {
        "type": "checkbox",
        "id": "is_a_section",
        "label": "t:settings_schema.global.settings.is_a_section",
        "default": false
      },
      {
        "type": "checkbox",
        "id": "enable_background",
        "label": "t:sections.all.enable_background.label",
        "default": false
      },
      {
        "type": "color",
        "id": "background_color",
        "label": "t:sections.all.background_color.label",
        "default": "#fff"
      },
      {
        "type": "header",
        "content": "t:settings_schema.collection.name"
      },
      {
        "type": "paragraph",
        "content": "t:sections.product-rows.collection_info"
      },
      {
        "type": "collection",
        "id": "section_collection",
        "label": "t:sections.product-rows.settings.collection"
      },
      {
        "type": "checkbox",
        "id": "enable_item_limit",
        "label": "t:sections.product-rows.settings.enable_item_limit",
        "default": true
      },
      {
        "type": "range",
        "id": "item_limit",
        "min": 2,
        "max": 100,
        "step": 1,
        "unit": "itm",
        "label": "t:sections.product-rows.settings.item_limit",
        "default": 8
      },
      {
        "type": "header",
        "content": "t:sections.all.item_rows.label"
      },
      {
        "type": "select",
        "id": "item_widths_phone",
        "label": "t:sections.all.item_rows.settings.item_widths_phone",
        "options": [
          {
            "value": "col-12",
            "label": "1"
          },
          {
            "value": "col-6",
            "label": "2"
          }
        ],
        "default": "col-12"
      },
      {
        "type": "select",
        "id": "item_widths_tablet",
        "label": "t:sections.all.item_rows.settings.item_widths_tablet",
        "options": [
          {
            "value": "col-sm-6",
            "label": "2"
          },
          {
            "value": "col-sm-4",
            "label": "3"
          },
          {
            "value": "col-sm-3",
            "label": "4"
          }
        ],
        "default": "col-sm-4"
      },
      {
        "type": "select",
        "id": "item_widths_desk",
        "label": "t:sections.all.item_rows.settings.item_widths_desk",
        "options": [
          {
            "value": "col-xl-6",
            "label": "2"
          },
          {
            "value": "col-xl-4",
            "label": "3"
          },
          {
            "value": "col-xl-3",
            "label": "4"
          },
          {
            "value": "alt-col-xl-2",
            "label": "5"
          }
        ],
        "default": "alt-col-xl-2"
      },
      {
        "type": "select",
        "id": "item_widths_max",
        "label": "t:sections.all.item_rows.settings.item_widths_max",
        "options": [
          {
            "value": "col-xxxl-6",
            "label": "2"
          },
          {
            "value": "col-xxxl-4",
            "label": "3"
          },
          {
            "value": "col-xxxl-3",
            "label": "4"
          },
          {
            "value": "alt-col-xxxl-2",
            "label": "5"
          },
          {
            "value": "col-xxxl-2",
            "label": "6"
          }
        ],
        "default": "col-xxxl-2"
      },
      {
        "type": "header",
        "content": "t:settings_schema.global.settings.styles.label"
      },
      {
        "type": "checkbox",
        "id": "enable_styles",
        "label": "t:sections.all.styles.enable_styles",
        "default": false
      },
      {
        "type": "color",
        "id": "text_color",
        "label": "t:settings_schema.global.settings.colors.text_color",
        "default": "#000"
      },
      {
        "type": "color",
        "id": "price_color",
        "label": "t:settings_schema.global.settings.colors.price_color",
        "default": "#000"
      },
      {
        "type": "color",
        "id": "price_color_sale",
        "label": "t:settings_schema.global.settings.colors.price_color_sale",
        "default": "#bc3033"
      },
      {
        "type": "color",
        "id": "compare_price_color",
        "label": "t:settings_schema.global.settings.colors.compare_price_color",
        "default": "#737373"
      },
      {
        "type": "select",
        "id": "font_size",
        "label": "t:sections.all.font_size.label",
        "options": [
          {
            "value": "fs-1",
            "label": "t:sections.all.font_size.option_large"
          },
          {
            "value": "fs-2",
            "label": "t:sections.all.font_size.option_xmedium"
          },
          {
            "value": "fs-3",
            "label": "t:sections.all.font_size.option_medium"
          },
          {
            "value": "fs-4",
            "label": "t:sections.all.font_size.option_mediuml"
          },
          {
            "value": "fs-5",
            "label": "t:sections.all.font_size.option_small"
          },
          {
            "value": "fs-6",
            "label": "t:sections.all.font_size.option_smaller"
          }
        ],
        "default": "fs-6"
      },
      {
        "type": "checkbox",
        "id": "font_italic",
        "label": "t:sections.all.font_style_italic.label",
        "default": false
      },
      {
        "type": "select",
        "id": "font_weight",
        "label": "t:sections.all.font_weight.label",
        "options": [
          {
            "value": "fw-default",
            "label": "t:sections.all.font_weight.option_default"
          },
          {
            "value": "fw-bold",
            "label": "t:sections.all.font_weight.option_bold"
          },
          {
            "value": "fw-bolder",
            "label": "t:sections.all.font_weight.option_bolder"
          },
          {
            "value": "fw-light",
            "label": "t:sections.all.font_weight.option_light"
          },
          {
            "value": "fw-lighter",
            "label": "t:sections.all.font_weight.option_lighter"
          }
        ],
        "default": "fw-default"
      },
      {
        "type": "header",
        "content": "t:settings_schema.general_settings.name"
      },
      {
        "type": "select",
        "id": "section_margin",
        "label": "t:sections.all.section_margin.label",
        "options": [
          {
            "value": "mb-0",
            "label": "t:sections.all.section_margin.option_none"
          },
          {
            "value": "mb-1",
            "label": "t:sections.all.section_margin.option_xsmall"
          },
          {
            "value": "mb-2",
            "label": "t:sections.all.section_margin.option_smaller"
          },
          {
            "value": "mb-3",
            "label": "t:sections.all.section_margin.option_small"
          },
          {
            "value": "mb-4",
            "label": "t:sections.all.section_margin.option_medium"
          },
          {
            "value": "mb-5",
            "label": "t:sections.all.section_margin.option_large"
          }
        ],
        "default": "mb-5"
      }
    ],
    "blocks": [
      {
        "type": "item_block",
        "name": "t:settings_schema.item.name",
        "settings": [
          {
            "type": "header",
            "content": "t:settings_schema.product.name"
          },
          {
            "type": "product",
            "id": "prod",
            "label": "t:settings_schema.product.name"
          },
          {
            "type": "header",
            "content": "t:settings_schema.collection.name"
          },
          {
            "type": "collection",
            "id": "collection_item",
            "label": "t:sections.product-rows.settings.collection",
            "info": "t:sections.product-rows.settings.collection_item.info"
          },
          {
            "type": "header",
            "content": "t:settings_schema.global.settings.styles.label"
          },
          {
            "type": "checkbox",
            "id": "enable_styles",
            "label": "t:sections.all.styles.enable_styles",
            "default": false
          },
          {
            "type": "color",
            "id": "text_color",
            "label": "t:settings_schema.global.settings.colors.text_color",
            "default": "#000"
          },
          {
            "type": "color",
            "id": "price_color",
            "label": "t:settings_schema.global.settings.colors.price_color",
            "default": "#000"
          },
          {
            "type": "color",
            "id": "price_color_sale",
            "label": "t:settings_schema.global.settings.colors.price_color_sale",
            "default": "#bc3033"
          },
          {
            "type": "color",
            "id": "compare_price_color",
            "label": "t:settings_schema.global.settings.colors.compare_price_color",
            "default": "#737373"
          },
          {
            "type": "select",
            "id": "font_size",
            "label": "t:sections.all.font_size.label",
            "options": [
              {
                "value": "fs-inherit",
                "label": "t:settings_schema.global.settings.inherit"
              },
              {
                "value": "fs-1",
                "label": "t:sections.all.font_size.option_large"
              },
              {
                "value": "fs-2",
                "label": "t:sections.all.font_size.option_xmedium"
              },
              {
                "value": "fs-3",
                "label": "t:sections.all.font_size.option_medium"
              },
              {
                "value": "fs-4",
                "label": "t:sections.all.font_size.option_mediuml"
              },
              {
                "value": "fs-5",
                "label": "t:sections.all.font_size.option_small"
              },
              {
                "value": "fs-6",
                "label": "t:sections.all.font_size.option_smaller"
              }
            ],
            "default": "fs-inherit"
          },
          {
            "type": "checkbox",
            "id": "font_italic",
            "label": "t:sections.all.font_style_italic.label",
            "default": false
          },
          {
            "type": "select",
            "id": "font_weight",
            "label": "t:sections.all.font_weight.label",
            "options": [
              {
                "value": "fw-inherit",
                "label": "t:settings_schema.global.settings.inherit"
              },
              {
                "value": "fw-bold",
                "label": "t:sections.all.font_weight.option_bold"
              },
              {
                "value": "fw-bolder",
                "label": "t:sections.all.font_weight.option_bolder"
              },
              {
                "value": "fw-light",
                "label": "t:sections.all.font_weight.option_light"
              },
              {
                "value": "fw-lighter",
                "label": "t:sections.all.font_weight.option_lighter"
              }
            ],
            "default": "fw-inherit"
          },
          {
            "type": "header",
            "content": "t:settings_schema.general_settings.name"
          },
          {
            "type": "image_picker",
            "id": "custom_img",
            "label": "t:schema_global.custom_image.label"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "t:sections.product-rows-carousel.name"
      }
    ]
  }
{% endschema %}
